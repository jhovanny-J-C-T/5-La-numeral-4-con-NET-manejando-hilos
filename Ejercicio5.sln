using System;
using System.Threading;

class Program
{
    static void Main()
    {
        const int cantidadNumeros = 100000;
        int[] numeros = new int[cantidadNumeros];
        int[] resultados = new int[cantidadNumeros];
        Thread[] hilos = new Thread[cantidadNumeros];

        for (int i = 0; i < cantidadNumeros; i++)
        {
            numeros[i] = i + 1;
            hilos[i] = new Thread(new ParameterizedThreadStart(CalcularNumero));
            hilos[i].Start(new object[] { i, numeros[i], resultados });
        }

        // Esperar a que todos los hilos terminen
        foreach (var hilo in hilos)
        {
            hilo.Join();
        }

        // Mostrar toda la serie
        Console.WriteLine("Serie generada con 100000 posiciones:");
        for (int i = 0; i < cantidadNumeros; i++)
        {
            Console.Write(resultados[i]);
            if (i < cantidadNumeros - 1)
            {
                Console.Write(", ");
            }
        }

        Console.WriteLine();
    }

    static void CalcularNumero(object state)
    {
        object[] parameters = (object[])state;
        int index = (int)parameters[0];
        int numero = (int)parameters[1];
        int[] resultados = (int[])parameters[2];

        resultados[index] = (numero % 2 == 0) ? numero * 2 : numero * 2 + 1;
    }
}
